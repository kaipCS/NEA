id issue with making search bar not whole way and for years aswell which is exact for 4 digit year
make 1986 and 2018 values not placeholders so can always filter
and also step default checked

issue with lots of divs and labels for form 

label not bold issue important

<?php
$pure_topics= array();
$mech_topics= array();
$stats_topics= array();

include_once ("connection.php");

$stmt = $conn -> prepare("SELECT * FROM questions ");
    $stmt -> execute();
    while ($row = $stmt -> fetch(PDO::FETCH_ASSOC)){
        $topic = $row["topic"];
        if ($row["area"] = 0){
            if (!in_array($topic, $pure_topics)) {
                $pure_topics[] = $topic;
            }
        }
        if ($row["area"] = 1){
            if (!in_array($topic, $mech_topics)) {
                $mech_topics[] = $topic;
            }
        }
        if ($row["area"] = 2){
            if (!in_array($topic, $stats_topics)) {
                $stats_topics[] = $topic;
            }
        }
    } 

print_r($pure_topics);
?>
prints nothing - as only used single equals

issue of not in being python syntax

              <?php
                    if ($status == TRUE){
                        foreach ($pure_topics as $topic => $count) {
                            echo '<input type="checkbox" name="topic" value="' . ($topic) . '" checked> ' . ($topic) . " ($count) <br>";
                        }
                    }
                    else{
                        foreach ($pure_topics as $topic => $count) {
                            echo '<input type="checkbox" name="topic" value="' . ($topic) . '"> ' . ($topic) . " ($count) <br>";
                        }
                    }
                ?>
                </div>


had the same name for things across pure and mech so needed to specify

have to double click to open - because has to initalise to none as the other none is the style sheet so added an or

post was only catching last checked

for filter validation need to use isset rather than empty

header not working beacuse was printing stuff to test

prepared statement was difficult for sql with arrays so did not do this, no risk of sql injection as all textboxes except from years which I will change to only allow numerical entry

was leaving one or two of areas empty then checking in sql producing error so made into one big list of topics as the area is not important for this bit 

after testing using the filters, issues seemed to arise from the POST or the session being too long

in fact it is that sql query length is too logn which makes sense as when outputing messages to trace code the issues arised at sql statement
after doing some research, I found that I could seperate into chunks and merge the result

I tested this by attempting to select all questions
however when I did that onyl 885 where in list so something had gone wrong

for example, question id 10 is the first not included
it has the topic work so I selected this filter as only one question is mentioned with it, only one with it which agrees with the questions table, this did correctly output this


        $chunks = array_chunk($topics, 100);
        foreach ($chunks as $chunk) {
            $topicsList = "'" . implode("','", $chunk) . "'";
            $stmt = $conn->query("SELECT questionid FROM questions WHERE (year <= $to AND year >= $from) AND (paper IN ($papersList)) AND topic IN ($topicsList)");
            
        while ($row = $stmt->fetch(PDO::FETCH_ASSOC)) {
            $questions[] = $row["questionid"];   
        }

        print_r($questions);
        }

Complex Numbers vs Complex Numbers

all topics are definatly sent 

printing chunks showed that they did not cover all topics - just the first 200

printing chunks before sql showed that they are all included properly so issue in the sql

now works just not in order because of the chunks which is why cut off weridly at the start

removing all the printing allowed redirection and printing session showed correct

issue when selecting pure, for example, and getting applied questions with those same topics **
-> to fix I will make a list of selected areas and then topics which are not in areas so will make correct search and also more effient, still need to chunk in case of extreame case
not working as areas is imploding as a string not number as in database
still not working so echo $sql; to check - not printing anythign suggestign not even getting to sql before error
never entering loop as  $topics is empty - enter dummy topic into list to work
merging doesnt work on empty so added else if
testing with no full topics didnt work: as trying to acess empty post
chunks were not working is not exactly 100 in size so last one (and if one like in case above, not at all)
it is not this but one gets missed from every chunk due to "topics" added initally
does get rid of one as expected by does not fix problem
printing shows apostraphe in topics ending sql query: flipped round use of double vs single speech marks


issue where selecting one pure topic selects every pure topic
in fact, whatever happens all pure are selected - is this a data type issue because pure is 0: yes so concanated differently
now only selecting step 1 despite told otherwise, may just be a cache issue with testing and reloading many times: yes this way the case


when doing exlcluding for step I pure - include some mech questions?/ same thing for not excluding, clearly filtering is going wrong ** 