<?php
session_start();

#redirect to correct page
$userid = $_SESSION["userid"];

$stmt = $conn->prepare("SELECT school FROM users WHERE userid = :userid");
$stmt->bindParam(':userid', $userid);
$stmt->execute();
$school = $stmt->fetch(PDO::FETCH_ASSOC);
if ($school){
    echo "in school";
}
else{
    echo "not in school";
}
?>

does not display anything so tried $school %% $school != null
not working for either user
to see what going wrong, print session
thats fine (user id is set)
print school
print nothing
assign school a value and try that which works
not printing so echoing is not working
try echo something just before if statement, weird as else should catch everything
BECAUSE SEMICOLON AT END OF IF STATEMENT AND NO OPENIGN BRACKET
still same problems
no printign anything after sql so sql statement is not working so catch pdo
catch (PDOException $e) {
    echo "DataBase Error".$e->getMessage();
  } catch (Exception $e) {
    echo "General Error".$e->getMessage();
  }

this said could not find school because it is schoolid not school

saying in school when not
so printed school
printed "Array"

use $school && $school['school'] !== null

now not getting when it is there
printing shows it does indeed select nothing 
change to this if ($school && $school['schoolID'] !== null)
anothing schoolID vs school problem

made schoolID a session variable and prined: it was 0 rather than 27138
session variable needed array access also $school['schoolID'] rather than just = $school, figured out when printed array 
I was printing role 
but before changing it did print array

to test teacher bit had to give user 2 a school id also

wouldnt load due to speech marks here "<div class="small-grey-text"> Share this code with students and other teachers to join your school </div>";
so used single ones

add in comments and indentation

getting the html and css to work toegther, could close div of box inside first echo needed indivudal at the end

hr css not working due to bootstrap overriding so added important

echo quote problem again, note as a issue to check for in future if page with php does not load along with brakcets and semicolons 

got stuck on blank page when joining school with valid schoolID
this was because sql was tyring to create new user with only schoolid and no update to phpmyadmin as lots was null when not null validation

another error table

when added one that already existed, it stuck on white page- suggested something went wrong to not get to header from inside if statement, because misspelt schoolID 

when i entered a different code it successfully added to table but in my school showed other users

this got rid of both  $stmt = $conn -> prepare("SELECT * FROM users WHERE role=1 and schoolID == :schoolID");, tried double equals for both and single equals for both which worked 


.col-sm-8{
  background-color: #ADE1FF;
  font-size:20px; 
  padding:10px;  
}

/* Container in in-school page */
#in-school{
  gap:20px;
  display:flex;
}

#no-school{
  justify-content: center;
  display: flex;
}

/* Horizontal line */
hr {
  border:none !important;
  height: 2px !important;
  background-color:grey !important;
}

